<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galeri Fasilitas | SMP NEGERI 8 CIKARANG UTARA</title>
    
    <!-- Favicon (menggunakan placeholder yang sama) -->
    <link rel="icon" type="image/png" href="https://i.imgur.com/mRmw86t.jpeg">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Fonts: Playfair Display (Heading) & Lora (Body/Classic) -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Lora:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <style>
        /* --- 1. Variable dan Font Klasik Modern --- */
        :root {
            --primary: #004aad;     /* Biru Tua (Foundation) */
            --accent: #00bcd4;      /* Cyan (Aksen Dinamis) */
            --secondary: #ff9800;   /* Oranye (Highlight) */
            --bg-light: #f0f7f8;    /* Background Sangat Cerah */
            --font-heading: 'Playfair Display', serif; /* Font Klasik Keren */
            --font-body: 'Lora', serif; /* Font Body Lebih Klasik/Elegant */
            --shadow-soft: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        body {
            font-family: var(--font-body);
            color: #333;
            background-color: var(--bg-light); /* Background lebih lembut */
            line-height: 1.7;
        }
        h1, h2, h3, h4 {
            font-family: var(--font-heading);
            color: var(--primary);
        }

        /* --- STYLES NAVIGASI --- */
        .top-bar { background-color: var(--primary); color: white; font-size: 0.85rem; }
        .navbar { 
            box-shadow: 0 4px 12px rgba(0,0,0,0.08); 
            transition: background-color 0.3s ease-in-out;
        }
        .nav-link { 
            font-weight: 600; 
            color: #333 !important; 
            transition: color 0.3s, border-bottom 0.3s;
            border-bottom: 2px solid transparent; /* Garis bawah elegan */
        }
        .nav-link:hover, .nav-link.active { 
            color: var(--primary) !important; 
            border-bottom: 2px solid var(--accent); /* Aksen dinamis */
        }
        .dropdown-menu {
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        /* --- HERO SECTION --- */
        .hero-galeri {
            padding: 150px 5%; /* Padding lebih besar */
            /* Menggunakan gradien yang lebih dalam dan efek parallax */
            background: linear-gradient(rgba(0, 74, 173, 0.8), rgba(0, 150, 200, 0.8)), url('https://i.imgur.com/c1n4bWr.png') no-repeat center center;
            background-attachment: fixed; /* Efek Parallax */
            background-size: cover;
            text-align: center;
            color: white;
            margin-bottom: 60px;
        }
        .hero-galeri h1 {
            color: white;
            font-size: clamp(2.5rem, 6vw, 4.5rem); /* Responsive font size */
            text-shadow: 2px 2px 8px rgba(0,0,0,0.7);
            animation: fadeInDown 1s ease-out; /* Animasi Judul */
        }
        .hero-galeri p {
            font-weight: 300;
            font-size: clamp(1rem, 2vw, 1.25rem);
            animation: fadeInUp 1s ease-out 0.3s forwards;
            opacity: 0;
        }
        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- GALERI KHUSUS (Card dinamis) --- */
        .facility-card-wrapper {
             /* Wrapper untuk animasi scroll */
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.7s ease-out, transform 0.7s ease-out;
        }
        .facility-card-wrapper.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .facility-card {
            border: none;
            border-radius: 12px;
            overflow: hidden;
            transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 0.4s, border 0.4s;
            background-color: white;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 25px;
            text-align: center;
            cursor: pointer;
            border-bottom: 6px solid var(--primary); /* Garis bawah tebal */
        }
        .facility-card:hover {
            transform: translateY(-8px); /* Efek lift dinamis */
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2); /* Shadow lebih kuat */
            border-bottom: 6px solid var(--accent); /* Ganti warna saat hover */
        }
        
        .card-icon {
            background-color: var(--primary); /* Warna dasar Biru Tua */
            color: white;
            padding: 30px 25px;
            font-size: 3.5em;
            transition: transform 0.4s, background-color 0.4s;
        }
        .facility-card:hover .card-icon {
            background-color: var(--accent); /* Warna aksen saat hover */
            transform: scale(1.05);
        }
        .card-body {
            padding: 25px;
        }
        .card-body h5 {
            font-family: var(--font-heading); /* Judul card menggunakan Playfair Display */
            font-weight: 700;
            color: var(--primary); 
            transition: color 0.4s;
        }
        .facility-card:hover .card-body h5 {
             color: var(--accent);
        }
        .card-category {
            font-family: var(--font-body);
            font-size: 0.9rem;
            color: var(--secondary);
            font-weight: 700;
            letter-spacing: 0.5px;
            display: block;
            margin-top: 10px;
        }

        /* --- SECTION DIVIDER --- */
        .section-divider {
            margin: 70px 0 40px;
            text-align: center;
        }
        .section-divider h2 {
            font-size: clamp(1.8rem, 4vw, 3rem);
            color: var(--primary);
            position: relative;
            display: inline-block;
            padding: 5px 20px 10px;
        }
        .section-divider h2::after {
            content: '';
            width: 100%;
            height: 4px;
            background: linear-gradient(to right, transparent, var(--accent), transparent);
            position: absolute;
            left: 0;
            bottom: 0;
            border-radius: 2px;
        }

        /* Styling tambahan untuk Modal Carousel */
        .modal-content {
            border-radius: 15px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.5);
        }
        .modal-header {
            background-color: var(--primary);
            color: white;
            border-top-left-radius: 15px;
            border-top-right-radius: 15px;
            border-bottom: none;
        }
        .modal-title {
            font-family: var(--font-heading);
            font-weight: 700;
        }
        .btn-close-white {
            filter: invert(1);
        }
        .carousel-item img {
            width: 100%;
            height: auto;
            max-height: 80vh; 
            object-fit: contain; 
            border-radius: 10px;
        }
    </style>
</head>
<body>

    <!-- Top Bar dan Navbar -->
    <div class="top-bar py-2 d-none d-md-block">
        <div class="container text-end font-monospace">
            <small><i class="fas fa-phone me-2"></i>(0857) 7429 3159 &nbsp;|&nbsp; <i class="fas fa-envelope me-2"></i>smpn8citra@gmail.com</small>
        </div>
    </div>

    <nav class="navbar navbar-expand-lg sticky-top shadow-sm py-2" style="background: rgba(255, 255, 255, 0.98); backdrop-filter: blur(10px); border-bottom: 1px solid #f0f0f0;">
    <div class="container" style="max-width: 1100px;"> <a class="navbar-brand d-flex align-items-center me-4" href="index.html">
            <img src="https://i.imgur.com/mRmw86t.jpeg" alt="Logo" height="42" class="me-2 rounded-circle border shadow-sm">
            <div class="lh-1">
                <div class="fw-bold text-primary" style="font-size: 1rem; letter-spacing: -0.5px;">SMP NEGERI 8</div>
                <small class="text-secondary fw-semibold" style="font-size: 0.75rem; letter-spacing: 0.5px;">CIKARANG UTARA</small>
            </div>
        </a>

        <button class="navbar-toggler border-0 shadow-none" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon" style="width: 1.2em; height: 1.2em;"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto align-items-center">
                <li class="nav-item">
                    <a class="nav-link px-2 fw-semibold text-dark active" href="index.html">Beranda</a>
                </li>

                <li class="nav-item dropdown px-1">
                    <a class="nav-link fw-semibold text-dark dropdown-toggle" href="#" data-bs-toggle="dropdown">Profil</a>
                    <ul class="dropdown-menu border-0 shadow-lg p-2 mt-2" style="border-radius: 10px; font-size: 0.9rem;">
                        <li><a class="dropdown-item rounded-2" href="SejarahSekolah.html">Sejarah</a></li>
                        <li><a class="dropdown-item rounded-2" href="tujuan.html">Visi & Misi</a></li>
                        <li><a class="dropdown-item rounded-2" href="StrukturOrganigram.html">Struktur</a></li>
                        <li><a class="dropdown-item rounded-2" href="Profil Guru.html">Guru & Staff</a></li>
                    </ul>
                </li>

                <li class="nav-item"><a class="nav-link px-2 fw-semibold text-dark" href="index.html#berita-terbaru">Berita</a></li>
                <li class="nav-item"><a class="nav-link px-2 fw-semibold text-dark" href="index.html#Pojok_Karya">Literasi</a></li>
                <li class="nav-item"><a class="nav-link px-2 fw-semibold text-dark" href="galerifasilitas.html">Fasilitas</a></li>

                <li class="nav-item dropdown px-1">
                    <a class="nav-link fw-semibold text-dark dropdown-toggle" href="#" data-bs-toggle="dropdown">Aktivitas</a>
                    <ul class="dropdown-menu border-0 shadow-lg p-2 mt-2" style="border-radius: 10px; font-size: 0.9rem; min-width: 180px;">
                        <li><a class="dropdown-item rounded-2" href="soalexcel.html text-truncate">Soal Excel</a></li>
                        <li><a class="dropdown-item rounded-2" href="memorycardexcel.html">MemCard</a></li>
                        <li><a class="dropdown-item rounded-2" href="tebakfungsiexcel.html">Tebak Fungsi</a></li>
                        <li><a class="dropdown-item rounded-2" href="draganddrop.html text-truncate">Drag & Drop</a></li>
                        <li><a class="dropdown-item rounded-2" href="tts.html">TTS</a></li>
                        <li><a class="dropdown-item rounded-2" href="acaknama.html">Randomizer</a></li>
                    </ul>
                </li>

                <li class="nav-item dropdown px-1">
                    <a class="nav-link fw-semibold text-dark dropdown-toggle text-uppercase" href="#" data-bs-toggle="dropdown" style="font-size: 0.85rem;">Presensi</a>
                    <ul class="dropdown-menu border-0 shadow-lg p-2 mt-2" style="border-radius: 10px;">
                        <li><a class="dropdown-item rounded-2" href="rekapabsen.html">Rekap Siswa</a></li>
                    </ul>
                </li>

                
            </ul>
        </div>
    </div>
</nav>
    
    <!-- Hero Section Khusus Galeri -->
    <header class="hero-galeri">
        <div class="container">
            <h1>Fasilitas Penunjang Pembelajaran</h1>
            <p class="lead">Kami menyediakan lingkungan dan sarana terbaik untuk mendukung setiap aspek pertumbuhan dan kreativitas siswa.</p>
        </div>
    </header>

    <main class="container">
        <!-- Fasilitas Umum -->
        <div class="section-divider">
            <h2><i class="fas fa-building me-2" style="color: var(--primary);"></i> Fasilitas Umum di Sekolah</h2>
        </div>

        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4">
            <!-- Ruang Kelas -->
            <div class="col facility-card-wrapper" style="--delay: 0s;">
                <div class="facility-card" data-facility-id="ruang_kelas">
                    <div class="card-icon"><i class="fas fa-chalkboard-teacher"></i></div>
                    <div class="card-body">
                        <h5>Ruang Kelas</h5>
                        <p class="text-muted">Tempat utama kegiatan belajar mengajar berlangsung, dilengkapi meja, kursi, papan tulis, dan proyektor modern.</p>
                        <span class="card-category">Fasilitas Utama</span>
                    </div>
                </div>
            </div>
            
            <!-- Perpustakaan -->
            <div class="col facility-card-wrapper" style="--delay: 0.1s;">
                <div class="facility-card" data-facility-id="perpustakaan">
                    <div class="card-icon"><i class="fas fa-book-open"></i></div>
                    <div class="card-body">
                        <h5>Perpustakaan</h5>
                        <p class="text-muted">Menyediakan koleksi buku pelajaran, referensi, dan literatur umum untuk memperluas wawasan siswa.</p>
                        <span class="card-category">Fasilitas Utama</span>
                    </div>
                </div>
            </div>

            <!-- Laboratorium -->
            <div class="col facility-card-wrapper" style="--delay: 0.2s;">
                <div class="facility-card" data-facility-id="laboratorium">
                    <div class="card-icon"><i class="fas fa-flask"></i></div>
                    <div class="card-body">
                        <h5>Laboratorium (IPA & Komputer)</h5>
                        <p class="text-muted">Dilengkapi lab. IPA, komputer, dan bahasa untuk praktik langsung, eksperimen, dan penguasaan teknologi.</p>
                        <span class="card-category">Fasilitas Khusus</span>
                    </div>
                </div>
            </div>
            
            <!-- Lapangan Olahraga -->
            <div class="col facility-card-wrapper" style="--delay: 0.3s;">
                <div class="facility-card" data-facility-id="lapangan_olahraga">
                    <div class="card-icon"><i class="fas fa-futbol"></i></div>
                    <div class="card-body">
                        <h5>Lapangan Olahraga</h5>
                        <p class="text-muted">Area luas untuk kegiatan fisik seperti sepak bola, basket, voli, dan mendukung pembinaan atletik siswa.</p>
                        <span class="card-category">Fasilitas Utama</span>
                    </div>
                </div>
            </div>
            
            <!-- Kantin Sekolah -->
            <div class="col facility-card-wrapper" style="--delay: 0.4s;">
                <div class="facility-card" data-facility-id="kantin">
                    <div class="card-icon"><i class="fas fa-utensils"></i></div>
                    <div class="card-body">
                        <h5>Kantin Sekolah</h5>
                        <p class="text-muted">Menyediakan berbagai makanan dan minuman yang sehat, higienis, dan bergizi bagi siswa dan guru.</p>
                        <span class="card-category">Fasilitas Pendukung</span>
                    </div>
                </div>
            </div>
            
            <!-- Ruang UKS -->
            <div class="col facility-card-wrapper" style="--delay: 0.5s;">
                <div class="facility-card" data-facility-id="uks">
                    <div class="card-icon"><i class="fas fa-medkit"></i></div>
                    <div class="card-body">
                        <h5>Ruang Kesehatan (UKS)</h5>
                        <p class="text-muted">Tempat pertolongan pertama, dilengkapi tenaga medis dan obat-obatan dasar jika siswa sakit atau cedera.</p>
                        <span class="card-category">Fasilitas Pendukung</span>
                    </div>
                </div>
            </div>
            
            <!-- Ruang Guru dan Administrasi -->
            <div class="col facility-card-wrapper" style="--delay: 0.6s;">
                <div class="facility-card" data-facility-id="ruang_guru">
                    <div class="card-icon"><i class="fas fa-users-cog"></i></div>
                    <div class="card-body">
                        <h5>Ruang Guru & Administrasi</h5>
                        <p class="text-muted">Pusat manajemen dan operasional sekolah serta tempat kerja bagi para guru dan staf.</p>
                        <span class="card-category">Fasilitas Pendukung</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Fasilitas Penunjang Kreativitas -->
        <div class="section-divider">
            <h2><i class="fas fa-lightbulb me-2" style="color: var(--primary);"></i> Fasilitas Kreativitas & Ekstrakurikuler</h2>
        </div>
        
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4">
            <!-- Aula/Ruang Serbaguna -->
            <div class="col facility-card-wrapper" style="--delay: 0s;">
                <div class="facility-card" data-facility-id="aula">
                    <div class="card-icon" style="background-color: var(--secondary);"><i class="fas fa-microphone-alt"></i></div>
                    <div class="card-body">
                        <h5>Aula / Ruang Serbaguna</h5>
                        <p class="text-muted">Digunakan untuk acara sekolah, seminar, upacara, dan kegiatan seni berskala besar.</p>
                        <span class="card-category">Kreativitas & Acara</span>
                    </div>
                </div>
            </div>
            
            <!-- Studio Seni/Musik -->
            <div class="col facility-card-wrapper" style="--delay: 0.1s;">
                <div class="facility-card" data-facility-id="studio">
                    <div class="card-icon" style="background-color: var(--secondary);"><i class="fas fa-paint-brush"></i></div>
                    <div class="card-body">
                        <h5>Studio Seni & Musik</h5>
                        <p class="text-muted">Dilengkapi instrumen dan peralatan seni untuk mendukung kegiatan band, paduan suara, atau seni rupa.</p>
                        <span class="card-category">Kreativitas & Ekstra</span>
                    </div>
                </div>
            </div>

            <!-- Ruang OSIS/Ekstrakurikuler -->
            <div class="col facility-card-wrapper" style="--delay: 0.2s;">
                <div class="facility-card" data-facility-id="osis">
                    <div class="card-icon" style="background-color: var(--secondary);"><i class="fas fa-handshake"></i></div>
                    <div class="card-body">
                        <h5>Ruang Organisasi Siswa</h5>
                        <p class="text-muted">Tempat khusus bagi OSIS dan klub ekstrakurikuler untuk rapat, perencanaan, dan pengembangan kegiatan siswa.</p>
                        <span class="card-category">Kepemimpinan Siswa</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Fasilitas Lingkungan -->
        <div class="section-divider">
            <h2><i class="fas fa-leaf me-2" style="color: var(--primary);"></i> Fasilitas Lingkungan & Kenyamanan</h2>
        </div>

        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4 mb-5">
            <!-- Taman Sekolah -->
            <div class="col facility-card-wrapper" style="--delay: 0s;">
                <div class="facility-card" data-facility-id="taman">
                    <div class="card-icon" style="background-color: var(--accent);"><i class="fas fa-tree"></i></div>
                    <div class="card-body">
                        <h5>Taman Sekolah</h5>
                        <p class="text-muted">Menyediakan suasana hijau dan nyaman, berfungsi sebagai area relaksasi dan media pembelajaran lingkungan.</p>
                        <span class="card-category">Kenyamanan</span>
                    </div>
                </div>
            </div>
            
            <!-- Area Parkir -->
            <div class="col facility-card-wrapper" style="--delay: 0.1s;">
                <div class="facility-card" data-facility-id="parkir">
                    <div class="card-icon" style="background-color: var(--accent);"><i class="fas fa-parking"></i></div>
                    <div class="card-body">
                        <h5>Area Parkir</h5>
                        <p class="text-muted">Fasilitas parkir yang tertata dan aman untuk kendaraan guru, staf, dan siswa yang diizinkan.</p>
                        <span class="card-category">Kenyamanan</span>
                    </div>
                </div>
            </div>

            <!-- Toilet/Ruang Ganti -->
            <div class="col facility-card-wrapper" style="--delay: 0.2s;">
                <div class="facility-card" data-facility-id="toilet">
                    <div class="card-icon" style="background-color: var(--accent);"><i class="fas fa-restroom"></i></div>
                    <div class="card-body">
                        <h5>Toilet & Ruang Ganti</h5>
                        <p class="text-muted">Fasilitas dasar yang bersih, higienis, dan memadai, menjamin kenyamanan seluruh warga sekolah.</p>
                        <span class="card-category">Kenyamanan</span>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <footer class="footer bg-light py-4 border-top">
        <div class="container text-center text-muted">
            &copy; 2025 SMP NEGERI 8 CIKARANG UTARA. All Rights Reserved.
        </div>
    </footer>

    <!-- Modal Galeri Foto Fasilitas -->
    <div class="modal fade" id="facilityModal" tabindex="-1" aria-labelledby="facilityModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="facilityModalLabel">Galeri Foto Fasilitas</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-1">
                    <div id="facilityCarousel" class="carousel slide" data-bs-ride="carousel">
                        <div class="carousel-inner" id="carouselInner">
                            <!-- Isi Carousel akan di-inject oleh JavaScript -->
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#facilityCarousel" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#facilityCarousel" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Data Fasilitas dan Gambar (TIDAK BERUBAH)
        const facilityData = {
            ruang_kelas: {
                name: "Ruang Kelas",
                images: [
                    "https://i.imgur.com/xwOe8Ua.png",
                    "https://placehold.co/1200x800/00bcd4/000000?text=Ruang+Kelas+2+(Nyaman)",
                    "https://placehold.co/1200x800/ff9800/000000?text=Ruang+Kelas+3+(Modern)",
                ]
            },
            perpustakaan: {
                name: "Perpustakaan",
                images: [
                    "https://i.imgur.com/k2ZFtyp.png",
                    "https://placehold.co/1200x800/8BC34A/000000?text=Koleksi+Buku",
                ]
            },
            laboratorium: {
                name: "Laboratorium (IPA & Komputer)",
                images: [
                    "https://i.imgur.com/5IouDps.png",
                    "https://i.imgur.com/JQ9IzDF.png",
                    "https://placehold.co/1200x800/E91E63/ffffff?text=Lab+Bahasa",
                ]
            },
            lapangan_olahraga: {
                name: "Lapangan Olahraga",
                images: [
                    "https://i.imgur.com/VcRtuJa.png",
                    "https://placehold.co/1200x800/2196F3/ffffff?text=Lapangan+Futsal",
                ]
            },
            kantin: {
                name: "Kantin Sekolah",
                images: [
                    "https://i.imgur.com/ixiXIsW.png",
                    "https://placehold.co/1200x800/FFEB3B/000000?text=Area+Makan",
                ]
            },
            uks: {
                name: "Ruang Kesehatan (UKS)",
                images: [
                    "https://i.imgur.com/HKaUSbN.png",
                ]
            },
            ruang_guru: {
                name: "Ruang Guru & Administrasi",
                images: [
                    "https://i.imgur.com/saVuWzM.png",
                    "https://placehold.co/1200x800/673AB7/ffffff?text=Ruang+Administrasi",
                ]
            },
            aula: {
                name: "Aula / Ruang Serbaguna",
                images: [
                    "https://i.imgur.com/dCiiMbI.png",
                ]
            },
            studio: {
                name: "Studio Seni & Musik",
                images: [
                    "https://i.imgur.com/rssGrDC.png",
                    "https://placehold.co/1200x800/4CAF50/ffffff?text=Studio+Seni",
                ]
            },
            osis: {
                name: "Ruang Organisasi Siswa",
                images: [
                    "https://i.imgur.com/bi8xyFq.png",
                ]
            },
            taman: {
                name: "Taman Sekolah",
                images: [
                    "https://i.imgur.com/Y3BQoQr.png",
                    "https://placehold.co/1200x800/CDDC39/000000?text=Area+Hijau",
                ]
            },
            parkir: {
                name: "Area Parkir",
                images: [
                    "https://i.imgur.com/0DxGk6V.png",
                ]
            },
            toilet: {
                name: "Toilet & Ruang Ganti",
                images: [
                    "https://i.imgur.com/Gz62WzF.png",
                ]
            },
        };

        document.addEventListener('DOMContentLoaded', () => {
            const facilityCards = document.querySelectorAll('.facility-card');
            const modalTitle = document.getElementById('facilityModalLabel');
            const carouselInner = document.getElementById('carouselInner');
            const facilityModal = new bootstrap.Modal(document.getElementById('facilityModal'));

            // --- Logika Scroll Reveal Dinamis ---
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.1 
            };

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        // Opsional: berhenti mengamati setelah terlihat
                        // observer.unobserve(entry.target); 
                    } else {
                        // Agar bisa dilihat berulang kali saat scroll naik turun
                        entry.target.classList.remove('visible'); 
                    }
                });
            }, observerOptions);

            // Terapkan Intersection Observer ke setiap wrapper kartu
            document.querySelectorAll('.facility-card-wrapper').forEach((el, index) => {
                // Tambahkan delay berdasarkan index agar muncul bergantian
                el.style.setProperty('--delay', `${index * 0.1}s`); 
                observer.observe(el);
            });
            // --- Akhir Logika Scroll Reveal ---


            // --- Logika Modal Galeri (TIDAK BERUBAH) ---
            facilityCards.forEach(card => {
                card.addEventListener('click', function() {
                    const facilityId = this.getAttribute('data-facility-id');
                    const data = facilityData[facilityId];

                    if (data && data.images.length > 0) {
                        modalTitle.textContent = 'Galeri Foto: ' + data.name;
                        carouselInner.innerHTML = ''; 

                        data.images.forEach((url, index) => {
                            const carouselItem = document.createElement('div');
                            carouselItem.classList.add('carousel-item');
                            if (index === 0) {
                                carouselItem.classList.add('active');
                            }
                            
                            // Tambahkan image dengan fallback onerror
                            carouselItem.innerHTML = `
                                <img src="${url}" class="d-block w-100" alt="${data.name} Foto ${index + 1}" 
                                    onerror="this.onerror=null; this.src='https://placehold.co/1200x800/CCCCCC/000000?text=Gambar+Tidak+Tersedia';">
                            `;
                            carouselInner.appendChild(carouselItem);
                        });
                        
                        // Tampilkan modal
                        facilityModal.show();
                    } else {
                        // Menggunakan custom alert karena alert() dilarang
                        const cardName = this.querySelector('h5').textContent;
                        console.warn(`Tidak ada data gambar untuk ${cardName}.`);
                        
                        // Membuat pesan sederhana di konsol karena tidak boleh menggunakan alert
                        // Dalam implementasi nyata, ini akan diganti dengan Toast atau Custom Modal UI
                        const modalMessage = document.createElement('div');
                        modalMessage.className = 'p-3 bg-warning text-dark rounded-lg position-fixed top-50 start-50 translate-middle shadow-lg z-30';
                        modalMessage.style.zIndex = 1050;
                        modalMessage.textContent = `Maaf, galeri foto untuk ${cardName} saat ini belum tersedia.`;
                        document.body.appendChild(modalMessage);
                        setTimeout(() => modalMessage.remove(), 3000);
                    }
                });
            });
            // --- Akhir Logika Modal Galeri ---
        });
    </script>
</body>
</html>
