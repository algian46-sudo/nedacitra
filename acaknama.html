<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Randomizer Profesional - SMP NEGERI 8 CIKARANG UTARA</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Configure Tailwind to use Inter font and custom colors -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-blue': '#1E88E5',
                        'secondary-blue': '#90CAF9',
                        'dark-blue': '#0D47A1',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        /* Menggunakan Inter font */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');
        
        body {
            background: linear-gradient(135deg, #1E88E5 0%, #90CAF9 100%);
            min-height: 100vh;
            color: white;
            font-family: 'Inter', sans-serif;
            display: flex;
            flex-direction: column;
        }

        textarea, input {
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        textarea:focus, input:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(30, 136, 229, 0.5);
        }

        .roulette-active {
            transition: none;
        }

        /* Animasi berkedip untuk indikator online */
        .dot-online {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7); }
            70% { transform: scale(1); box-shadow: 0 0 0 6px rgba(34, 197, 94, 0); }
            100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); }
        }
    </style>
</head>

<body>

    <!-- Header & Navigation Bar -->
    <header class="bg-white/10 backdrop-blur-lg shadow-lg">
        <div class="container mx-auto px-4 py-4 flex flex-col md:flex-row justify-between items-center">
            <div class="flex items-center mb-4 md:mb-0">
                <img src="https://i.imgur.com/mRmw86t.jpeg" alt="Logo Sekolah" class="h-12 w-12 rounded-full ring-2 ring-white/50 object-cover mr-4">
                <h1 class="text-xl md:text-2xl font-extrabold tracking-tight">
                    Randomizer Profesional
                    <span class="block text-sm font-light opacity-80">SMP NEGERI 8 CIKARANG UTARA</span>
                </h1>
            </div>
            <a href="index.html" class="inline-flex items-center px-4 py-2 bg-white text-dark-blue font-semibold rounded-full shadow-lg hover:bg-gray-100 transition duration-300 transform hover:scale-105 text-sm">
                <i class="fas fa-sync-alt mr-2"></i> Beranda
            </a>
        </div>
    </header>

    <!-- FITUR PENGUNJUNG (Visitor Stats) -->
    <div class="container mx-auto px-4 mt-6">
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 bg-white/10 backdrop-blur-md p-4 rounded-2xl border border-white/20 shadow-xl">
            <!-- Total Pengunjung -->
            <div class="flex items-center p-3 bg-white/5 rounded-xl">
                <div class="bg-blue-500/20 p-3 rounded-lg mr-3">
                    <i class="fas fa-users text-blue-300 text-xl"></i>
                </div>
                <div>
                    <p class="text-xs uppercase tracking-wider opacity-70">Total Hits</p>
                    <p id="statTotal" class="text-xl font-bold">0</p>
                </div>
            </div>
            <!-- Hari Ini -->
            <div class="flex items-center p-3 bg-white/5 rounded-xl">
                <div class="bg-purple-500/20 p-3 rounded-lg mr-3">
                    <i class="fas fa-calendar-day text-purple-300 text-xl"></i>
                </div>
                <div>
                    <p class="text-xs uppercase tracking-wider opacity-70">Hari Ini</p>
                    <p id="statToday" class="text-xl font-bold">0</p>
                </div>
            </div>
            <!-- Kemarin (Simulasi) -->
            <div class="flex items-center p-3 bg-white/5 rounded-xl">
                <div class="bg-orange-500/20 p-3 rounded-lg mr-3">
                    <i class="fas fa-history text-orange-300 text-xl"></i>
                </div>
                <div>
                    <p class="text-xs uppercase tracking-wider opacity-70">Kemarin</p>
                    <p id="statYesterday" class="text-xl font-bold">0</p>
                </div>
            </div>
            <!-- Online Sekarang -->
            <div class="flex items-center p-3 bg-white/5 rounded-xl relative overflow-hidden">
                <div class="bg-green-500/20 p-3 rounded-lg mr-3">
                    <i class="fas fa-signal text-green-400 text-xl"></i>
                </div>
                <div>
                    <p class="text-xs uppercase tracking-wider opacity-70">Online</p>
                    <div class="flex items-center">
                        <p id="statOnline" class="text-xl font-bold">1</p>
                        <span class="ml-2 w-2 h-2 bg-green-500 rounded-full dot-online"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content Container -->
    <div class="container mx-auto px-4 py-8 flex-grow">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 lg:gap-8">

            <!-- CARD 1: ACAK NAMA -->
            <div class="card bg-white/20 p-6 rounded-xl shadow-2xl backdrop-blur-sm transition duration-300 hover:bg-white/30 border border-white/30">
                <h2 class="text-2xl font-bold mb-4 flex items-center"><i class="fas fa-dice-one mr-2 text-secondary-blue"></i> Acak Nama</h2>
                <textarea id="namaList" rows="6" class="w-full p-3 rounded-lg border-2 border-gray-200 text-gray-900" placeholder="Masukkan daftar nama, satu per baris"></textarea>
                <button id="btnAcakNama" onclick="acakNama()" class="w-full mt-4 py-3 bg-dark-blue hover:bg-dark-blue/80 rounded-lg font-bold shadow-md transition duration-200 transform hover:shadow-xl">
                    <i class="fas fa-shuffle mr-2"></i> Acak & Hapus Nama
                </button>
                <div id="hasilNama" class="result mt-5 p-4 bg-white/30 rounded-lg text-2xl font-extrabold text-center min-h-[5rem] flex items-center justify-center shadow-inner">
                    Hasil Akan Tampil di Sini
                </div>
            </div>

            <!-- CARD 2: ACAK TUGAS -->
            <div class="card bg-white/20 p-6 rounded-xl shadow-2xl backdrop-blur-sm transition duration-300 hover:bg-white/30 border border-white/30">
                <h2 class="text-2xl font-bold mb-4 flex items-center"><i class="fas fa-clipboard-list mr-2 text-secondary-blue"></i> Acak Tugas</h2>
                <textarea id="tugasList" rows="6" class="w-full p-3 rounded-lg border-2 border-gray-200 text-gray-900" placeholder="Masukkan daftar tugas, satu per baris"></textarea>
                <button id="btnAcakTugas" onclick="acakTugas()" class="w-full mt-4 py-3 bg-dark-blue hover:bg-dark-blue/80 rounded-lg font-bold shadow-md transition duration-200 transform hover:shadow-xl">
                    <i class="fas fa-cogs mr-2"></i> Acak & Hapus Tugas
                </button>
                <div id="hasilTugas" class="result mt-5 p-4 bg-white/30 rounded-lg text-2xl font-extrabold text-center min-h-[5rem] flex items-center justify-center shadow-inner">
                    Hasil Akan Tampil di Sini
                </div>
            </div>

            <!-- CARD 3: KELOMPOK -->
            <div class="card bg-white/20 p-6 rounded-xl shadow-2xl backdrop-blur-sm transition duration-300 hover:bg-white/30 border border-white/30">
                <h2 class="text-2xl font-bold mb-4 flex items-center"><i class="fas fa-users mr-2 text-secondary-blue"></i> Pembagian Kelompok</h2>
                <textarea id="namaKelompok" rows="4" class="w-full p-3 rounded-lg border-2 border-gray-200 text-gray-900" placeholder="Masukkan nama siswa, satu per baris"></textarea>
                <input type="number" id="jumlahKelompok" class="w-full p-3 rounded-lg border-2 border-gray-200 text-gray-900 mt-2" placeholder="Jumlah kelompok">
                <button onclick="bagiKelompok()" class="w-full mt-4 py-3 bg-dark-blue hover:bg-dark-blue/80 rounded-lg font-bold shadow-md transition duration-200 transform hover:shadow-xl">
                    <i class="fas fa-object-group mr-2"></i> Buat Kelompok
                </button>
                <div id="hasilKelompok" class="mt-5 max-h-96 overflow-y-auto pr-2"></div>
            </div>

        </div>
    </div>
    
    <!-- Floating Fullscreen Button -->
    <button class="fixed bottom-6 right-6 p-4 bg-primary-blue hover:bg-primary-blue/90 text-white rounded-full shadow-lg transition duration-200 transform hover:scale-110 z-50" 
            onclick="toggleFullscreen()">
        <i class="fas fa-expand text-xl"></i>
    </button>
    
    <!-- Footer -->
    <footer class="text-center py-6 bg-white/10 text-sm opacity-80 border-t border-white/10 mt-auto">
        &copy; 2025 SMP NEGERI 8 CIKARANG UTARA | Dibuat dengan semangat <i class="fas fa-heart text-red-400"></i>
    </footer>

<script>
/**
 * LOGIKA STATISTIK PENGUNJUNG (Visitor Stats Simulation)
 */
function initVisitorStats() {
    // 1. Total Hits (Simulasi menggunakan LocalStorage)
    let totalHits = localStorage.getItem('total_hits');
    if (!totalHits) {
        totalHits = 1250; // Angka awal simulasi
    }
    totalHits = parseInt(totalHits) + 1;
    localStorage.setItem('total_hits', totalHits);
    document.getElementById('statTotal').innerText = totalHits.toLocaleString();

    // 2. Hari Ini & Kemarin (Simulasi)
    let todayHits = 42 + Math.floor(Math.random() * 10);
    document.getElementById('statToday').innerText = todayHits;
    document.getElementById('statYesterday').innerText = "89";

    // 3. Online Sekarang (Dinamis)
    function updateOnline() {
        let currentOnline = Math.floor(Math.random() * (12 - 2 + 1)) + 2; // Random 2 - 12
        document.getElementById('statOnline').innerText = currentOnline;
    }
    updateOnline();
    setInterval(updateOnline, 5000); // Update setiap 5 detik
}

// Jalankan stats saat load
window.onload = initVisitorStats;

/**
 * LOGIKA RANDOMIZER
 */
const ROULETTE_DURATION = 1500;

function rouletteEffect(element, finalText, items) {
    const buttonId = element.id === 'hasilNama' ? 'btnAcakNama' : 'btnAcakTugas';
    const button = document.getElementById(buttonId);
    if (button) {
        button.disabled = true;
        button.classList.add('opacity-50');
    }
    
    element.classList.add('roulette-active');
    let spinCount = 0;
    const totalSpins = items.length * 2 + 5;

    let interval = setInterval(() => {
        const itemIndex = Math.floor(Math.random() * items.length);
        element.innerHTML = `<div class='text-2xl font-bold text-white opacity-70'>${items[itemIndex]}</div>`;
    }, 80);

    setTimeout(() => {
        clearInterval(interval);
        element.innerHTML = `<span class="text-3xl font-extrabold text-red-500 transform scale-110 transition-all">${finalText}</span>`;
        element.classList.remove('roulette-active');
        if (button) {
            button.disabled = false;
            button.classList.remove('opacity-50');
        }
    }, ROULETTE_DURATION);
}

function acakNama() {
    let namaList = document.getElementById("namaList");
    let input = namaList.value.trim();
    let box = document.getElementById("hasilNama");

    if (!input) { box.innerHTML = "<span class='text-red-300 text-sm'>Daftar kosong!</span>"; return; }

    let arr = input.split("\n").map(n => n.trim()).filter(n => n !== "");
    if (arr.length === 0) return;

    let randomIndex = Math.floor(Math.random() * arr.length);
    let hasil = arr[randomIndex];
    const itemsToSpin = [...arr];

    arr.splice(randomIndex, 1);
    namaList.value = arr.join('\n');
    rouletteEffect(box, hasil, itemsToSpin);
}

function acakTugas() {
    let tugasList = document.getElementById("tugasList");
    let input = tugasList.value.trim();
    let box = document.getElementById("hasilTugas");

    if (!input) { box.innerHTML = "<span class='text-red-300 text-sm'>Daftar kosong!</span>"; return; }

    let arr = input.split("\n").map(n => n.trim()).filter(n => n !== "");
    if (arr.length === 0) return;

    let randomIndex = Math.floor(Math.random() * arr.length);
    let hasil = arr[randomIndex];
    const itemsToSpin = [...arr];

    arr.splice(randomIndex, 1);
    tugasList.value = arr.join('\n');
    rouletteEffect(box, hasil, itemsToSpin);
}

function bagiKelompok() {
    let input = document.getElementById("namaKelompok").value.trim();
    let jumlah = parseInt(document.getElementById("jumlahKelompok").value);
    let resDiv = document.getElementById("hasilKelompok");

    if (!input || isNaN(jumlah) || jumlah <= 0) {
        resDiv.innerHTML = `<div class='p-3 bg-red-500/30 rounded-lg text-center text-sm'>Lengkapi data!</div>`;
        return;
    }

    let arr = input.split("\n").map(n => n.trim()).filter(n => n !== "");
    arr.sort(() => Math.random() - 0.5);

    let kelompok = Array.from({ length: Math.min(jumlah, arr.length) }, () => []);
    arr.forEach((nama, i) => {
        kelompok[i % kelompok.length].push(nama);
    });

    let output = "";
    kelompok.forEach((k, i) => {
        output += `
            <div class='mt-3 p-4 bg-white/20 rounded-xl border border-white/10'>
                <h3 class='font-bold text-dark-blue mb-2'><i class="fas fa-users mr-2"></i> Kelompok ${i + 1}</h3>
                <ul class='text-sm text-gray-800 space-y-1'>${k.map(n => `<li>â€¢ ${n}</li>`).join('')}</ul>
            </div>`;
    });
    resDiv.innerHTML = output;
}

function toggleFullscreen() {
    if (!document.fullscreenElement) {
        document.documentElement.requestFullscreen();
    } else {
        document.exitFullscreen();
    }
}
</script>

</body>
</html>